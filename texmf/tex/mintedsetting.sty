% mintedを使うときに定義する
%----TeXLive2014の場合は以下を有効にする----
%\chardef\pdf@shellescape=\@ne
%\usepackage[]{minted} % 第二のソースを載せるスタイルファイル
%-------------------------------------------
%----TeXLive2015の場合は以下を有効にする----
\usepackage[cache=false]{minted}
%-------------------------------------------
\usepackage{color}
\usepackage{mdframed}
\usepackage{caption}
\definecolor{bg}{rgb}{0.95,0.95,0.95}
%\chardef\pdf@shellescape=\@ne
\newmintedfile[Cmintedfile]{c}{%
linenos,
mathescape,
numbersep=5pt,
frame=lines,
framesep=2mm,
}%
\newminted[Cminted]{c}{%
linenos,
mathescape,
numbersep=5pt,
frame=lines,
framesep=2mm,
bgcolor=bg
}%
\newmintedfile[SHmintedfile]{sh}{%
linenos,
mathescape,
numbersep=5pt,
frame=lines,
framesep=2mm,
}%
\newminted[SHminted]{sh}{%
linenos,
mathescape,
numbersep=5pt,
frame=lines,
framesep=2mm,
bgcolor=bg
}%
\newcommand{\CmintedfileAP}[3]{%
\begin{mdframed}[
    linecolor=black,
    topline=false, 
    bottomline=false,
    leftline=false,
    rightline=false]
      \Cmintedfile[breaklines,fontsize=#2]{#1}
      \captionof{listing}{#3}
\end{mdframed}
}
